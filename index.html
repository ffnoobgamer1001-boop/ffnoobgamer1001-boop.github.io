<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AniChronicle - The Premier Anime Source</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Plus+Jakarta+Sans:wght@400;500;700&family=Merriweather:ital,wght@0,300;0,400;0,700;1,300&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Plus Jakarta Sans"', 'sans-serif'],
                        display: ['"Outfit"', 'sans-serif'],
                        serif: ['"Merriweather"', 'serif'],
                    },
                    colors: {
                        anime: {
                            dark: '#0f172a',
                            card: '#1e293b',
                            accent: '#8b5cf6', // Violet
                            accentHover: '#7c3aed',
                            text: '#e2e8f0',
                            muted: '#94a3b8'
                        }
                    },
                    animation: {
                        'pulse-fast': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #0f172a;
            color: #e2e8f0;
            overflow-x: hidden;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0f172a;
        }
        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }

        .hero-gradient {
            background: linear-gradient(to bottom, rgba(15, 23, 42, 0) 0%, rgba(15, 23, 42, 1) 100%);
        }

        .glass-nav {
            background: rgba(15, 23, 42, 0.85);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .content-image {
            width: 100%;
            border-radius: 0.75rem;
            margin: 2rem 0;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        /* Reading Progress Bar */
        #progress-bar {
            width: 0%;
            height: 4px;
            background: #8b5cf6;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 100;
            transition: width 0.1s ease;
        }

        .fade-in { animation: fadeIn 0.6s ease-out forwards; opacity: 0; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* Skeleton Loading */
        .skeleton {
            background: linear-gradient(90deg, #1e293b 25%, #334155 50%, #1e293b 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }
        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col">

    <!-- Reading Progress Bar -->
    <div id="progress-bar"></div>

    <!-- Navigation -->
    <nav class="glass-nav fixed w-full z-50 top-0 left-0 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <!-- Logo -->
                <div class="flex-shrink-0 cursor-pointer group" onclick="app.renderHome()">
                    <h1 class="font-display font-extrabold text-3xl tracking-tight text-white group-hover:scale-105 transition-transform">
                        Ani<span class="text-anime-accent">Chronicle</span>
                    </h1>
                </div>

                <!-- Desktop Menu -->
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-8">
                        <button onclick="app.filterPosts('All')" class="text-gray-300 hover:text-anime-accent hover:bg-slate-800/50 transition-all px-3 py-2 rounded-md text-sm font-medium">Home</button>
                        <button onclick="app.filterPosts('News')" class="text-gray-300 hover:text-anime-accent hover:bg-slate-800/50 transition-all px-3 py-2 rounded-md text-sm font-medium">News</button>
                        <button onclick="app.filterPosts('Review')" class="text-gray-300 hover:text-anime-accent hover:bg-slate-800/50 transition-all px-3 py-2 rounded-md text-sm font-medium">Reviews</button>
                        <button onclick="app.filterPosts('Top 10')" class="text-gray-300 hover:text-anime-accent hover:bg-slate-800/50 transition-all px-3 py-2 rounded-md text-sm font-medium">Rankings</button>
                    </div>
                </div>

                <!-- Search -->
                <div class="hidden md:block">
                    <div class="relative">
                        <input type="text" id="searchInput" placeholder="Search titles..." 
                            class="bg-slate-800/80 text-sm text-white rounded-full pl-10 pr-4 py-2 focus:outline-none focus:ring-2 focus:ring-anime-accent w-64 border border-slate-700 transition-all hover:bg-slate-800">
                        <div class="absolute left-3 top-2.5 text-slate-400">
                            <i class="fas fa-search"></i>
                        </div>
                    </div>
                </div>

                <!-- Mobile menu button -->
                <div class="-mr-2 flex md:hidden">
                    <button onclick="document.getElementById('mobile-menu').classList.toggle('hidden')" class="bg-slate-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white focus:outline-none">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div class="hidden md:hidden bg-slate-900 border-b border-slate-800" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <button onclick="app.filterPosts('All')" class="text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium w-full text-left">Home</button>
                <button onclick="app.filterPosts('News')" class="text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium w-full text-left">News</button>
                <button onclick="app.filterPosts('Review')" class="text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium w-full text-left">Reviews</button>
            </div>
        </div>
    </nav>

    <!-- Main Content Container -->
    <main id="main-content" class="flex-grow pt-20 min-h-screen">
        <!-- Dynamic content injected here -->
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 border-t border-slate-800 mt-20 relative overflow-hidden">
        <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-anime-accent to-transparent opacity-50"></div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-12">
                <div class="col-span-1 md:col-span-2">
                    <h2 class="font-display font-bold text-3xl text-white mb-6">Ani<span class="text-anime-accent">Chronicle</span></h2>
                    <p class="text-slate-400 text-sm leading-relaxed max-w-md mb-6">
                        We are a collective of anime enthusiasts dedicated to bringing you the most in-depth analysis, breaking news, and honest reviews. From the seasonal hits to the hidden gems, we cover it all with passion and precision.
                    </p>
                    <div class="flex space-x-4">
                        <input type="email" placeholder="Subscribe to newsletter" class="bg-slate-800 border-none rounded-l-md px-4 py-2 text-sm text-white focus:ring-2 focus:ring-anime-accent outline-none w-full max-w-xs">
                        <button class="bg-anime-accent hover:bg-anime-accentHover text-white px-4 py-2 rounded-r-md text-sm font-bold transition-colors">Join</button>
                    </div>
                </div>
                <div>
                    <h3 class="text-white font-bold mb-6 uppercase text-xs tracking-wider border-b border-slate-800 pb-2 w-fit">Editorial</h3>
                    <ul class="space-y-3 text-slate-400 text-sm">
                        <li><a href="#" class="hover:text-anime-accent transition-colors">Seasonal Charts</a></li>
                        <li><a href="#" class="hover:text-anime-accent transition-colors">Review Policy</a></li>
                        <li><a href="#" class="hover:text-anime-accent transition-colors">Staff Picks</a></li>
                        <li><a href="#" class="hover:text-anime-accent transition-colors">Submit a Story</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-white font-bold mb-6 uppercase text-xs tracking-wider border-b border-slate-800 pb-2 w-fit">Community</h3>
                    <div class="flex space-x-4 text-slate-400 mb-6">
                        <a href="#" class="hover:text-[#1DA1F2] transition-colors transform hover:-translate-y-1"><i class="fab fa-twitter text-2xl"></i></a>
                        <a href="#" class="hover:text-[#5865F2] transition-colors transform hover:-translate-y-1"><i class="fab fa-discord text-2xl"></i></a>
                        <a href="#" class="hover:text-white transition-colors transform hover:-translate-y-1"><i class="fab fa-youtube text-2xl"></i></a>
                    </div>
                    <p class="text-xs text-slate-500">© 2024 AniChronicle Inc.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript Application Logic -->
    <script>
        // --- Enhanced Content Generation Engine ---
        
        const animeDatabase = [
            { title: "Jujutsu Kaisen", genre: "Action, Supernatural" },
            { title: "Attack on Titan", genre: "Dark Fantasy" },
            { title: "One Piece", genre: "Adventure" },
            { title: "Demon Slayer", genre: "Historical, Action" },
            { title: "Chainsaw Man", genre: "Horror, Comedy" },
            { title: "Frieren: Beyond Journey's End", genre: "Fantasy, Slice of Life" },
            { title: "Spy x Family", genre: "Spy, Comedy" },
            { title: "Vinland Saga", genre: "Historical, Epic" },
            { title: "Mushoku Tensei", genre: "Isekai, Fantasy" },
            { title: "Oshi no Ko", genre: "Drama, Mystery" },
            { title: "Bleach: Thousand-Year Blood War", genre: "Action" },
            { title: "My Hero Academia", genre: "Superhero" },
            { title: "Solo Leveling", genre: "Action, Fantasy" },
            { title: "Blue Lock", genre: "Sports" },
            { title: "Neon Genesis Evangelion", genre: "Mecha, Psychological" },
            { title: "Cowboy Bebop", genre: "Sci-Fi, Noir" },
            { title: "Fullmetal Alchemist: Brotherhood", genre: "Fantasy, Adventure" },
            { title: "Cyberpunk: Edgerunners", genre: "Sci-Fi" },
            { title: "Violet Evergarden", genre: "Drama, Fantasy" },
            { title: "Haikyuu!!", genre: "Sports" }
        ];

        const authors = [
            { name: "Alex Chen", role: "Chief Editor" },
            { name: "Sarah Jenkins", role: "Senior Critic" },
            { name: "Hiroshi Tanaka", role: "Industry Insider" },
            { name: "Emily Dao", role: "Manga Specialist" },
            { name: "Marcus Webb", role: "Staff Writer" }
        ];
        
        const categories = ["Review", "News", "Recommendation", "Top 10", "Analysis"];

        // Expanded "Anime Ipsum" Generator
        const contentSnippets = {
            openers: [
                "It is rare in the modern landscape of animation to witness a production that so effortlessly commands attention from the very first frame.",
                "Following the explosive finale of the previous season, expectations were impossibly high. Yet, somehow, the studio managed to not only meet them but shatter them entirely.",
                "There is a delicate balance between sticking to the source material and taking creative liberties. This adaptation walks that tightrope with the grace of a seasoned acrobat.",
                "In a genre saturated with clichés and repetitive tropes, this series arrives like a breath of fresh air, challenging our preconceptions of what a shonen story can be.",
                "The announcement of this project was met with skepticism. Could they really capture the intricate art style of the manga? The answer, thankfully, is a resounding yes."
            ],
            visuals: [
                "Visually, the show is a tour de force. The compositing work creates a depth of field that makes the 2D characters feel like they inhabit a living, breathing 3D world. The use of dynamic lighting during the quieter moments adds a layer of melancholy that dialogue alone could never achieve.",
                "The action choreography deserves a dedicated thesis. Unlike the shaky-cam confusion often used to mask budget constraints, here every punch, kick, and magical blast is tracked with geometric precision. The 'sakuga' moments are not just flashy; they are narrative devices that show the character's growth.",
                "Color theory plays a pivotal role here. The shift from warm, inviting ambers in the flashbacks to the cold, sterile blues of the present timeline subconsciously cues the audience into the protagonist's mental state. It is visual storytelling at its finest.",
                "While the CGI integration isn't flawless, it is among the best in the industry. The background assets blend surprisingly well with the hand-drawn character cels, creating a cohesive aesthetic that holds up even on 4K screens."
            ],
            sound: [
                "Complementing the visuals is a soundtrack that can only be described as haunting. The orchestral swells during the climax sent shivers down my spine, while the use of silence in tension-filled scenes was deafening.",
                "The voice acting cast delivers career-defining performances. The protagonist's breakdown in episode 5 was raw and visceral, a testament to the seiyuu's ability to convey complex grief through audio alone.",
                "Sound design is often an unsung hero, but here it takes center stage. The weight of the mechs, the sharp ring of steel on steel, the ambient noise of the cyberpunk city—it all creates an immersive soundscape that demands high-quality headphones."
            ],
            plot: [
                "Narratively, the pacing initially feels slow, almost methodical. However, this slow burn allows for a level of world-building that pays off massively in the second cour. Every minor detail mentioned in episode 1 becomes a crucial plot point by episode 12.",
                "The character arcs are where this series truly shines. We aren't just watching archetypes; we are watching flawed, messy human beings make mistakes and try to atone for them. The redemption arc of the antagonist feels earned, not forced.",
                "However, the plot is not without its stumbling blocks. The middle arc suffers from some filler-like pacing, and a few side characters are introduced only to be immediately sidelined. It's a minor blemish on an otherwise stellar script.",
                "The thematic exploration of trauma and legacy sets this apart from its peers. It doesn't shy away from the ugly consequences of violence, making the eventual victory feel bittersweet rather than purely triumphant."
            ],
            conclusion: [
                "In conclusion, this is not just a show; it is an experience. It demands your attention and rewards it with one of the most compelling narratives of the year.",
                "While it may not convert those who dislike the genre, for fans, it is an absolute essential watch. It sets a new benchmark for production quality.",
                "Despite a few pacing hiccups, the emotional highs are so powerful they leave a lasting impact. This is a contender for Anime of the Year, without a doubt.",
                "It is a flawed masterpiece. Ambitious, gorgeous, and occasionally messy, but always fascinating. I cannot wait to see where the studio takes us next."
            ]
        };

        const generateTextSection = (topicArray, count = 1) => {
            let text = "";
            for(let i=0; i<count; i++) {
                text += topicArray[Math.floor(Math.random() * topicArray.length)] + " ";
            }
            return text;
        };

        const generateLongFormContent = (title, genre) => {
            return {
                intro: `In this deep dive, we explore ${title}, a series that has taken the ${genre} community by storm. ` + generateTextSection(contentSnippets.openers),
                visuals: generateTextSection(contentSnippets.visuals, 2),
                sound: generateTextSection(contentSnippets.sound, 1),
                narrative: generateTextSection(contentSnippets.plot, 2),
                verdict: generateTextSection(contentSnippets.conclusion)
            };
        };

        // Pollinations.ai Image Generator
        const getAiImage = (prompt, seed) => {
            const encoded = encodeURIComponent(`${prompt} anime style masterpiece 4k highly detailed --seed ${seed}`);
            return `https://image.pollinations.ai/prompt/${encoded}?width=1200&height=675&nologo=true`;
        };

        // Generate 50 unique posts with enriched data
        const generatePosts = () => {
            let posts = [];
            for (let i = 1; i <= 50; i++) {
                const anime = animeDatabase[Math.floor(Math.random() * animeDatabase.length)];
                const category = categories[Math.floor(Math.random() * categories.length)];
                const author = authors[Math.floor(Math.random() * authors.length)];
                
                let titlePrefix = "";
                if(category === "Review") titlePrefix = `Review: Why ${anime.title} Changes Everything`;
                else if(category === "News") titlePrefix = `BREAKING: Major Update on ${anime.title} Production`;
                else if(category === "Top 10") titlePrefix = `Top 10 Moments in ${anime.title} Ranked`;
                else if(category === "Analysis") titlePrefix = `Deconstructing the Philosophy of ${anime.title}`;
                else titlePrefix = `Why You Need to Watch ${anime.title} Right Now`;

                const content = generateLongFormContent(anime.title, anime.genre);
                
                // Estimate read time: approx 200 words per minute
                const totalWords = (content.intro + content.visuals + content.sound + content.narrative + content.verdict).split(" ").length;
                const readTime = Math.ceil(totalWords / 200);

                posts.push({
                    id: i,
                    title: titlePrefix,
                    series: anime.title,
                    genre: anime.genre,
                    category: category,
                    author: author,
                    date: new Date(Date.now() - Math.floor(Math.random() * 10000000000)).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }),
                    // Unique prompt for main image based on title + ID to ensure caching/consistency
                    image: getAiImage(`${anime.title} epic scene ${anime.genre}`, i), 
                    rating: (Math.random() * (10 - 7) + 7).toFixed(1),
                    readTime: readTime,
                    likes: Math.floor(Math.random() * 500) + 50,
                    content: content,
                    // Gallery images
                    gallery: [
                        getAiImage(`${anime.title} character close up emotional`, i+100),
                        getAiImage(`${anime.title} scenery landscape background art`, i+200)
                    ],
                    comments: [
                        { user: "OtakuKing99", text: "Finally someone said it! The animation in episode 5 was insane.", time: "2 hours ago" },
                        { user: "MangaReader_X", text: "Great article, but I think the manga handled the pacing better.", time: "5 hours ago" },
                        { user: "AnimeFan2024", text: "Does anyone know when the soundtrack drops on Spotify?", time: "1 day ago" }
                    ]
                });
            }
            return posts;
        };

        const allPosts = generatePosts();

        // --- Application Logic ---

        const app = {
            state: {
                currentView: 'home',
                filter: 'All',
                posts: allPosts
            },

            init: function() {
                this.renderHome();
                
                // Scroll Progress Listener
                window.onscroll = function() {
                    let winScroll = document.body.scrollTop || document.documentElement.scrollTop;
                    let height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                    let scrolled = (winScroll / height) * 100;
                    document.getElementById("progress-bar").style.width = scrolled + "%";
                };

                // Search Listener
                document.getElementById('searchInput').addEventListener('input', (e) => {
                    const term = e.target.value.toLowerCase();
                    const filtered = allPosts.filter(p => 
                        p.title.toLowerCase().includes(term) || 
                        p.series.toLowerCase().includes(term)
                    );
                    this.renderGrid(filtered);
                });
            },

            filterPosts: function(category) {
                this.state.filter = category;
                const filtered = category === 'All' 
                    ? allPosts 
                    : allPosts.filter(p => p.category === category);
                this.renderHome(filtered);
            },

            // Loading Skeleton Helper
            getSkeleton: function() {
                return `<div class="w-full h-full skeleton absolute inset-0 z-0"></div>`;
            },

            handleImageLoad: function(img) {
                img.style.opacity = '1';
                img.previousElementSibling.style.display = 'none'; // Hide skeleton
            },

            likePost: function(btn, id) {
                const icon = btn.querySelector('i');
                const countSpan = btn.querySelector('span');
                const post = allPosts.find(p => p.id === id);
                
                if (btn.classList.contains('text-pink-500')) {
                    // Unlike
                    btn.classList.remove('text-pink-500');
                    btn.classList.add('text-slate-400');
                    icon.classList.remove('fas');
                    icon.classList.add('far');
                    post.likes--;
                } else {
                    // Like
                    btn.classList.add('text-pink-500');
                    btn.classList.remove('text-slate-400');
                    icon.classList.remove('far');
                    icon.classList.add('fas');
                    icon.classList.add('animate-bounce');
                    setTimeout(() => icon.classList.remove('animate-bounce'), 1000);
                    post.likes++;
                }
                countSpan.innerText = post.likes;
            },

            renderHome: function(postsToRender = allPosts) {
                const main = document.getElementById('main-content');
                const featured = postsToRender[0];
                const gridPosts = postsToRender.slice(1);

                // Featured Hero Image with fallback
                const heroHtml = `
                    <div class="relative h-[600px] w-full group cursor-pointer overflow-hidden" onclick="app.renderPost(${featured.id})">
                        ${this.getSkeleton()}
                        <img src="${featured.image}" 
                             onload="app.handleImageLoad(this)"
                             class="absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-700 group-hover:scale-105 z-10" 
                             alt="${featured.title}">
                        <div class="absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/60 to-transparent z-20"></div>
                        
                        <div class="absolute bottom-0 left-0 w-full z-30 p-4 md:p-12">
                            <div class="max-w-7xl mx-auto">
                                <span class="inline-block px-4 py-1.5 bg-anime-accent text-white text-xs font-bold uppercase tracking-wider rounded-full mb-6 shadow-[0_0_15px_rgba(139,92,246,0.5)]">
                                    ${featured.category}
                                </span>
                                <h1 class="text-4xl md:text-6xl font-display font-bold text-white mb-6 leading-tight max-w-5xl drop-shadow-2xl">
                                    ${featured.title}
                                </h1>
                                <div class="flex flex-wrap items-center text-slate-300 text-sm gap-6">
                                    <div class="flex items-center bg-slate-800/80 backdrop-blur px-3 py-1 rounded-full">
                                        <i class="far fa-user mr-2 text-anime-accent"></i>${featured.author.name}
                                    </div>
                                    <div class="flex items-center bg-slate-800/80 backdrop-blur px-3 py-1 rounded-full">
                                        <i class="far fa-clock mr-2 text-anime-accent"></i>${featured.date}
                                    </div>
                                    <div class="flex items-center bg-slate-800/80 backdrop-blur px-3 py-1 rounded-full">
                                        <i class="fas fa-book-open mr-2 text-anime-accent"></i>${featured.readTime} min read
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-16 mb-8 flex justify-between items-end border-b border-slate-800 pb-4">
                        <h2 class="text-3xl font-display font-bold text-white">
                            ${this.state.filter === 'All' ? 'Latest Stories' : this.state.filter}
                        </h2>
                    </div>

                    <div id="posts-grid" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 pb-20">
                    </div>
                `;

                main.innerHTML = heroHtml;
                this.renderGrid(gridPosts, document.getElementById('posts-grid'));
                window.scrollTo(0, 0);
            },

            renderGrid: function(posts, container) {
                if(!container) return;
                
                const gridHtml = posts.map(post => `
                    <article class="bg-anime-card rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border border-slate-700/50 flex flex-col h-full group" onclick="app.renderPost(${post.id})">
                        <div class="relative h-56 overflow-hidden bg-slate-800">
                            ${this.getSkeleton()}
                            <img src="${post.image}" 
                                 loading="lazy"
                                 onload="app.handleImageLoad(this)"
                                 alt="${post.title}" 
                                 class="w-full h-full object-cover opacity-0 transition-all duration-700 group-hover:scale-110 relative z-10">
                            
                            <div class="absolute top-4 left-4 z-20">
                                <span class="bg-slate-900/90 backdrop-blur text-white text-xs font-bold px-3 py-1 rounded-full border border-slate-700">
                                    ${post.category}
                                </span>
                            </div>
                            ${post.category === 'Review' ? `
                            <div class="absolute bottom-4 right-4 z-20">
                                <div class="bg-anime-accent text-white text-sm font-extrabold px-3 py-1 rounded-lg shadow-lg">
                                    ${post.rating}
                                </div>
                            </div>` : ''}
                        </div>
                        <div class="p-6 flex flex-col flex-grow">
                            <div class="flex items-center text-xs text-anime-accent mb-3 font-semibold tracking-wide uppercase">
                                ${post.series}
                            </div>
                            <h3 class="text-xl font-bold text-white mb-3 leading-snug group-hover:text-anime-accent transition-colors font-display">
                                ${post.title}
                            </h3>
                            <p class="text-slate-400 text-sm line-clamp-3 mb-6 flex-grow leading-relaxed font-sans">
                                ${post.content.intro}
                            </p>
                            <div class="flex items-center justify-between pt-4 border-t border-slate-700/50 mt-auto">
                                <div class="flex items-center text-xs text-slate-400">
                                    <span class="font-medium text-slate-300">${post.author.name}</span>
                                    <span class="mx-2">•</span>
                                    <span>${post.date}</span>
                                </div>
                                <div class="flex items-center text-slate-500 text-xs">
                                    <i class="far fa-heart mr-1"></i> ${post.likes}
                                </div>
                            </div>
                        </div>
                    </article>
                `).join('');

                container.innerHTML = gridHtml;
            },

            renderPost: function(id) {
                const post = allPosts.find(p => p.id === id);
                const main = document.getElementById('main-content');
                
                const related = allPosts
                    .filter(p => p.category === post.category && p.id !== post.id)
                    .slice(0, 3);

                const html = `
                    <article class="fade-in pb-20">
                        <!-- Post Hero -->
                        <div class="relative h-[70vh] w-full">
                            ${this.getSkeleton()}
                            <img src="${post.image}" 
                                 onload="app.handleImageLoad(this)"
                                 class="absolute inset-0 w-full h-full object-cover opacity-0 z-10">
                            <div class="absolute inset-0 bg-slate-900/80 hero-gradient z-20"></div>
                            
                            <div class="relative max-w-4xl mx-auto px-4 h-full flex flex-col justify-end pb-16 z-30">
                                <div class="flex items-center space-x-3 mb-6">
                                    <span class="px-3 py-1 bg-anime-accent text-white text-xs font-bold uppercase rounded-md shadow-lg">
                                        ${post.category}
                                    </span>
                                    <span class="px-3 py-1 bg-slate-800 border border-slate-600 text-slate-300 text-xs font-bold uppercase rounded-md">
                                        ${post.series}
                                    </span>
                                </div>
                                <h1 class="text-4xl md:text-6xl font-display font-extrabold text-white mb-8 leading-tight">
                                    ${post.title}
                                </h1>
                                
                                <div class="flex flex-col md:flex-row md:items-center justify-between border-t border-slate-700/50 pt-8 gap-6">
                                    <div class="flex items-center space-x-4">
                                        <div class="w-12 h-12 rounded-full bg-slate-700 flex items-center justify-center text-xl font-bold text-anime-accent border-2 border-slate-600">
                                            ${post.author.name.charAt(0)}
                                        </div>
                                        <div>
                                            <p class="text-sm font-bold text-white">${post.author.name}</p>
                                            <p class="text-xs text-anime-accent">${post.author.role}</p>
                                        </div>
                                    </div>
                                    
                                    <div class="flex items-center space-x-8 text-slate-300 text-sm">
                                        <div>
                                            <p class="text-xs text-slate-500 uppercase mb-1">Published</p>
                                            <p class="font-semibold">${post.date}</p>
                                        </div>
                                        <div>
                                            <p class="text-xs text-slate-500 uppercase mb-1">Read Time</p>
                                            <p class="font-semibold">${post.readTime} min</p>
                                        </div>
                                        <div>
                                            <button onclick="app.likePost(this, ${post.id})" class="text-slate-400 hover:text-pink-500 transition-colors flex items-center group">
                                                <i class="far fa-heart text-2xl mr-2 group-hover:scale-110 transition-transform"></i>
                                                <span class="text-lg font-bold">${post.likes}</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Content Layout -->
                        <div class="max-w-7xl mx-auto px-4 mt-16 grid grid-cols-1 lg:grid-cols-12 gap-16">
                            
                            <!-- Left Sidebar (Socials) -->
                            <div class="hidden lg:flex lg:col-span-1 flex-col items-center">
                                <div class="sticky top-32 flex flex-col space-y-6">
                                    <div class="w-px h-12 bg-slate-700 mx-auto"></div>
                                    <a href="#" class="text-slate-400 hover:text-[#1DA1F2] transition-colors"><i class="fab fa-twitter text-xl"></i></a>
                                    <a href="#" class="text-slate-400 hover:text-[#4267B2] transition-colors"><i class="fab fa-facebook text-xl"></i></a>
                                    <a href="#" class="text-slate-400 hover:text-[#FF4500] transition-colors"><i class="fab fa-reddit text-xl"></i></a>
                                    <a href="#" class="text-slate-400 hover:text-white transition-colors"><i class="fas fa-link text-xl"></i></a>
                                    <div class="w-px h-12 bg-slate-700 mx-auto"></div>
                                </div>
                            </div>

                            <!-- Main Text Body -->
                            <div class="col-span-1 lg:col-span-8">
                                <div class="prose prose-lg prose-invert max-w-none font-serif text-slate-300 leading-loose">
                                    <p class="text-xl md:text-2xl font-sans font-light text-white mb-10 leading-relaxed border-l-4 border-anime-accent pl-6 py-2">
                                        ${post.content.intro}
                                    </p>

                                    <h3 class="text-2xl font-display font-bold text-white mt-12 mb-6 flex items-center">
                                        <span class="w-8 h-1 bg-anime-accent mr-4"></span>Visuals & Animation
                                    </h3>
                                    <p>${post.content.visuals}</p>
                                    
                                    <figure class="my-10">
                                        <div class="relative h-[450px] w-full rounded-xl overflow-hidden shadow-2xl">
                                            ${this.getSkeleton()}
                                            <img src="${post.gallery[0]}" loading="lazy" onload="app.handleImageLoad(this)" class="absolute inset-0 w-full h-full object-cover opacity-0">
                                        </div>
                                        <figcaption class="text-center text-sm text-slate-500 mt-3 italic">Detailed character art from the latest episode.</figcaption>
                                    </figure>

                                    <h3 class="text-2xl font-display font-bold text-white mt-12 mb-6 flex items-center">
                                        <span class="w-8 h-1 bg-anime-accent mr-4"></span>Sound & Atmosphere
                                    </h3>
                                    <p>${post.content.sound}</p>

                                    <h3 class="text-2xl font-display font-bold text-white mt-12 mb-6 flex items-center">
                                        <span class="w-8 h-1 bg-anime-accent mr-4"></span>Narrative Depth
                                    </h3>
                                    <p>${post.content.narrative}</p>

                                    <figure class="my-10">
                                        <div class="relative h-[450px] w-full rounded-xl overflow-hidden shadow-2xl">
                                            ${this.getSkeleton()}
                                            <img src="${post.gallery[1]}" loading="lazy" onload="app.handleImageLoad(this)" class="absolute inset-0 w-full h-full object-cover opacity-0">
                                        </div>
                                        <figcaption class="text-center text-sm text-slate-500 mt-3 italic">Environmental storytelling at its finest.</figcaption>
                                    </figure>

                                    <div class="bg-gradient-to-br from-slate-800 to-slate-900 p-8 rounded-2xl border border-slate-700/50 mt-12 mb-12 shadow-xl">
                                        <h4 class="text-xl font-display font-bold text-white mb-4 flex items-center">
                                            <i class="fas fa-gavel text-anime-accent mr-3"></i> The Verdict
                                        </h4>
                                        <p class="italic text-slate-300 mb-6 border-l-2 border-slate-600 pl-4">
                                            "${post.content.verdict}"
                                        </p>
                                        ${post.category === 'Review' ? `
                                            <div class="flex items-center justify-between border-t border-slate-700 pt-6">
                                                <span class="text-slate-400 font-bold uppercase tracking-wider text-sm">Final Score</span>
                                                <span class="text-4xl font-extrabold text-anime-accent">${post.rating}<span class="text-lg text-slate-500">/10</span></span>
                                            </div>
                                        ` : ''}
                                    </div>
                                </div>

                                <!-- Comments Section -->
                                <div class="mt-16 pt-12 border-t border-slate-800">
                                    <h3 class="text-2xl font-display font-bold text-white mb-8">Discussion (${post.comments.length})</h3>
                                    
                                    <!-- Comment Input -->
                                    <div class="bg-slate-800/50 p-6 rounded-xl mb-10 flex gap-4">
                                        <div class="w-10 h-10 rounded-full bg-anime-accent flex items-center justify-center text-white font-bold">Y</div>
                                        <div class="flex-grow">
                                            <textarea class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white text-sm focus:ring-2 focus:ring-anime-accent outline-none" rows="3" placeholder="Join the discussion..."></textarea>
                                            <div class="flex justify-end mt-3">
                                                <button class="bg-white text-slate-900 px-4 py-2 rounded-md text-sm font-bold hover:bg-gray-200 transition-colors">Post Comment</button>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Comments List -->
                                    <div class="space-y-8">
                                        ${post.comments.map(comment => `
                                            <div class="flex gap-4">
                                                <div class="w-10 h-10 rounded-full bg-slate-700 flex-shrink-0 flex items-center justify-center">
                                                    <i class="fas fa-user text-slate-400"></i>
                                                </div>
                                                <div>
                                                    <div class="flex items-baseline gap-2 mb-1">
                                                        <span class="text-white font-bold text-sm">${comment.user}</span>
                                                        <span class="text-slate-500 text-xs">${comment.time}</span>
                                                    </div>
                                                    <p class="text-slate-300 text-sm leading-relaxed">${comment.text}</p>
                                                    <div class="flex gap-4 mt-2 text-xs text-slate-500">
                                                        <button class="hover:text-white">Reply</button>
                                                        <button class="hover:text-white">Like</button>
                                                    </div>
                                                </div>
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>
                            </div>

                            <!-- Right Sidebar (Related) -->
                            <div class="col-span-1 lg:col-span-3">
                                <h3 class="text-sm font-bold text-slate-400 uppercase tracking-wider mb-6">More like this</h3>
                                <div class="space-y-6">
                                    ${related.map(r => `
                                        <div class="cursor-pointer group" onclick="app.renderPost(${r.id})">
                                            <div class="h-32 rounded-lg overflow-hidden mb-3 relative bg-slate-800">
                                                ${this.getSkeleton()}
                                                <img src="${r.image}" loading="lazy" onload="app.handleImageLoad(this)" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 opacity-0 relative z-10">
                                            </div>
                                            <h4 class="font-bold text-white text-sm group-hover:text-anime-accent transition-colors leading-snug mb-1">${r.title}</h4>
                                            <p class="text-xs text-slate-500">${r.date}</p>
                                        </div>
                                    `).join('')}
                                </div>

                                <div class="mt-12 bg-slate-800/50 p-6 rounded-xl border border-slate-700/50 text-center">
                                    <p class="text-anime-accent text-2xl mb-2"><i class="fas fa-envelope-open-text"></i></p>
                                    <h4 class="text-white font-bold mb-2">Weekly Briefing</h4>
                                    <p class="text-slate-400 text-xs mb-4">Get the best anime analysis delivered to your inbox every Friday.</p>
                                    <button class="w-full bg-anime-accent hover:bg-anime-accentHover text-white py-2 rounded text-sm font-bold transition-colors">Subscribe</button>
                                </div>
                            </div>
                        </div>
                    </article>
                `;
                
                main.innerHTML = html;
                window.scrollTo(0, 0);
            }
        };

        // Initialize App
        document.addEventListener('DOMContentLoaded', () => {
            app.init();
        });

    </script>
</body>
</html>
